[server]
protocol = https  # Recommend using HTTPS
http_port = 3000
domain = localhost
root_url = %(protocol)s://%(domain)s:%(http_port)s/

[security]
disable_initial_admin_creation = false
cookie_secure = true
cookie_samesite = strict

[auth]
enabled = true  # Enable authentication
disable_login_form = false
disable_signout_menu = false

[auth.anonymous]
enabled = false  # Disable anonymous access
org_name = Main Org.
org_role = Viewer

[auth.basic]
enabled = true

[users]
allow_sign_up = false
auto_assign_org = true
auto_assign_org_role = Viewer

[smtp]
enabled = false

[unified_alerting]
enabled = true

[log]
mode = console,file
level = warn
filters = auth:warn

[log.file]
log_rotate = true
max_lines = 1000000
max_size_shift = 28  # 256MB
daily_rotate = true
max_days = 7

[paths]
logs = /var/log/grafana